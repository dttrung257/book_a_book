{"version":3,"file":"static/js/193.04b25349.chunk.js","mappings":"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","sources":["webpack://frontend/./src/pages/Cart/Cart.module.css?8a2b","pages/Cart/CartItem.tsx","pages/Cart/Cart.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Cart_container__7-s4T\",\"content\":\"Cart_content__yn3CS\",\"left\":\"Cart_left__zx1u+\",\"right\":\"Cart_right__4nX2H\",\"trashIcon\":\"Cart_trashIcon__L8EN4\",\"sticky\":\"Cart_sticky__fuHDf\",\"box\":\"Cart_box__BaPuk\",\"row\":\"Cart_row__HmsGN\",\"checkoutBtn\":\"Cart_checkoutBtn__gt4OL\",\"cartItem\":\"Cart_cartItem__fXLJK\",\"productInfo\":\"Cart_productInfo__Rwo1A\",\"quantity\":\"Cart_quantity__2HfTX\",\"selectAmount\":\"Cart_selectAmount__VAT9C\",\"name\":\"Cart_name__ntMe7\",\"author\":\"Cart_author__0OKcA\",\"category\":\"Cart_category__N4rlC\",\"btnGroup\":\"Cart_btnGroup__fqrCl\"};","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"@mui/material\";\r\nimport { HiOutlineTrash } from \"react-icons/hi\";\r\nimport { IoAdd, IoRemove } from \"react-icons/io5\";\r\nimport AppModal from \"../../components/AppModal/AppModal\";\r\nimport { Book } from \"../../models\";\r\nimport { cartActions } from \"../../store/cartSlice\";\r\nimport { useAppDispatch } from \"../../store/hook\";\r\nimport { formatStr } from \"../../utils\";\r\nimport style from \"./Cart.module.css\";\r\n\r\ninterface BookCart {\r\n  book: Book;\r\n  quantity: number;\r\n  checked: boolean;\r\n}\r\n\r\ninterface Props extends BookCart {\r\n  booksInfo: BookCart[];\r\n  setBooksInfo: React.Dispatch<BookCart[]>;\r\n}\r\n\r\nconst CartItem = ({\r\n  book,\r\n  quantity,\r\n  checked,\r\n  booksInfo,\r\n  setBooksInfo,\r\n}: Props) => {\r\n  const dispatch = useAppDispatch();\r\n  const [removeModal, setRemoveModal] = useState<boolean>(false);\r\n\r\n  const handleAmount = (id: number, newAmount: number) => {\r\n    setBooksInfo(\r\n      booksInfo.map((bookInfo) => {\r\n        if (bookInfo.book.id === book.id) {\r\n          return {\r\n            ...bookInfo,\r\n            quantity: newAmount,\r\n          };\r\n        }\r\n        return bookInfo;\r\n      })\r\n    );\r\n    dispatch(\r\n      cartActions.changeQuantity({\r\n        id: id,\r\n        quantity: newAmount,\r\n      })\r\n    );\r\n  };\r\n\r\n  const increaseAmount = () => {\r\n    if (quantity + 1 > book.availableQuantity) {\r\n      toast.warning(\r\n        `\"${book.name}\" now has only ${book.availableQuantity} left in stock`\r\n      );\r\n    }\r\n    const newAmount =\r\n      quantity + 1 <= book.availableQuantity ? quantity + 1 : quantity;\r\n    handleAmount(book.id, newAmount);\r\n  };\r\n\r\n  const decreaseAmount = () => {\r\n    const newAmount = quantity - 1 >= 0 ? quantity - 1 : quantity;\r\n    if (newAmount === 0) {\r\n      return setRemoveModal(true);\r\n    }\r\n    handleAmount(book.id, newAmount);\r\n  };\r\n\r\n  const handleChangeAmount = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.value === \"\") {\r\n      handleAmount(book.id, 1);\r\n      return;\r\n    }\r\n    let newAmount = event.target.valueAsNumber;\r\n    if (newAmount > book.availableQuantity) {\r\n      toast.warning(\r\n        `\"${book.name}\" now has only ${book.availableQuantity} left in stock`\r\n      );\r\n      newAmount = book.availableQuantity;\r\n    } else if (newAmount < 1) newAmount = 1;\r\n    handleAmount(book.id, newAmount);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(cartActions.removeCartItems({ ids: [book.id] }));\r\n    setBooksInfo(booksInfo.filter((bookInfo) => bookInfo.book.id !== book.id));\r\n    setRemoveModal(false);\r\n  };\r\n\r\n  const handleChecked = () => {\r\n    setBooksInfo(\r\n      booksInfo.map((bookInfo) => {\r\n        return bookInfo.book.id === book.id\r\n          ? { ...bookInfo, checked: !checked }\r\n          : bookInfo;\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${style.cartItem} ${style.row} ${style.box} mt-1 py-3 px-0`}\r\n    >\r\n      <div>\r\n        <input\r\n          className=\"form-check-input\"\r\n          type=\"checkbox\"\r\n          checked={checked}\r\n          name=\"\"\r\n          id=\"\"\r\n          onChange={handleChecked}\r\n        />\r\n      </div>\r\n      <div className={`${style.productInfo}`}>\r\n        <div>\r\n          <Link\r\n            to={`/product/${book.id}/${book.name\r\n              .split(\" \")\r\n              .join(\"-\")\r\n              .toLowerCase()}`}\r\n          >\r\n            <img src={book.image} alt=\"img\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"ps-2\">\r\n          <Link\r\n            to={`/product/${book.id}/${book.name\r\n              .split(\" \")\r\n              .join(\"-\")\r\n              .toLowerCase()}`}\r\n            className={`${style.name}`}\r\n          >\r\n            <h5>{formatStr(book.name, 28)}</h5>\r\n          </Link>\r\n          <div className={`${style.author} text-muted`}>\r\n            Author: {formatStr(book.author, 28)}\r\n          </div>\r\n          <div className={`${style.category} text-muted`}>\r\n            Category:{\" \"}\r\n            {formatStr(\r\n              book.category.charAt(0).toUpperCase() +\r\n                book.category.slice(1).toLowerCase(),\r\n              28\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>{book.sellingPrice}$</div>\r\n      <div className={style.quantity}>\r\n        <div style={{ display: \"flex\" }}>\r\n          <div\r\n            className={`${style.selectAmount}`}\r\n            onClick={() => decreaseAmount()}\r\n          >\r\n            <IoRemove />\r\n          </div>\r\n          <input type=\"number\" value={quantity} onChange={handleChangeAmount} />\r\n          <div\r\n            className={`${style.selectAmount}`}\r\n            onClick={() => increaseAmount()}\r\n          >\r\n            <IoAdd />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>{(book.sellingPrice * quantity).toFixed(2)}$</div>\r\n      <div>\r\n        <HiOutlineTrash\r\n          className={`${style.trashIcon}`}\r\n          onClick={() => setRemoveModal(true)}\r\n        />\r\n      </div>\r\n      <AppModal\r\n        showModal={removeModal}\r\n        setShowModal={setRemoveModal}\r\n        title={\"Remove product?\"}\r\n      >\r\n        <div>\r\n          <p>Do you want to delete the selected product?</p>\r\n          <div className={style.btnGroup}>\r\n            <Button variant=\"outlined\" color=\"error\" onClick={handleDelete}>\r\n              Delete\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={() => setRemoveModal(false)}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </AppModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { HiOutlineTrash } from \"react-icons/hi\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"@mui/material\";\r\nimport axios, { isAxiosError } from \"../../apis/axiosInstance\";\r\nimport { Book } from \"../../models\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store/hook\";\r\nimport style from \"./Cart.module.css\";\r\nimport CartItem from \"./CartItem\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { cartActions } from \"../../store/cartSlice\";\r\nimport AppModal from \"../../components/AppModal/AppModal\";\r\n\r\ninterface BookCart {\r\n  book: Book;\r\n  quantity: number;\r\n  checked: boolean;\r\n}\r\n\r\nconst Cart = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { items, totalQuantity } = useAppSelector((state) => state.cart);\r\n  const [booksInfo, setBooksInfo] = useState<BookCart[]>([]);\r\n  const [totalPrice, setTotalPrice] = useState<number>(0);\r\n  const [checkedAll, setCheckedAll] = useState<boolean>(false);\r\n  const [checkedQuantity, setCheckedQuantity] = useState<number>(0);\r\n  const [noItemModal, setNoItemModal] = useState<boolean>(false);\r\n\r\n  const calculateTotalPrice = () => {\r\n    return booksInfo.reduce((total, item) => {\r\n      console.log(item.quantity);\r\n      return item.checked\r\n        ? total + item.book.sellingPrice * item.quantity\r\n        : total;\r\n    }, 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getBook = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `/books/cart?ids=${items.map((item) => item.id).toString()}`\r\n        );\r\n\r\n        const books = response.data as Book[];\r\n        const newBooksInfo = books.map((book) => ({\r\n          book,\r\n          quantity: items.find((item) => item.id === book.id)\r\n            ?.quantity as number,\r\n          checked: false,\r\n        }));\r\n        setBooksInfo(newBooksInfo);\r\n        console.log(\"async:\", newBooksInfo);\r\n      } catch (error) {\r\n        if (isAxiosError(error)) {\r\n          console.log(error);\r\n          toast.error(error.response?.data.message);\r\n        }\r\n      }\r\n    };\r\n\r\n    getBook();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let check = true;\r\n    let checkedAmount = 0;\r\n    for (let i = 0; i < booksInfo.length; i++) {\r\n      if (!booksInfo[i].checked) {\r\n        check = false;\r\n      } else checkedAmount++;\r\n    }\r\n    setCheckedAll(check);\r\n    setCheckedQuantity(checkedAmount);\r\n    setTotalPrice(calculateTotalPrice());\r\n    return () => {};\r\n  }, [booksInfo]);\r\n\r\n  const handleCheckAll = () => {\r\n    setCheckedAll(!checkedAll);\r\n    setBooksInfo(\r\n      booksInfo.map((bookInfo) => ({ ...bookInfo, checked: !checkedAll }))\r\n    );\r\n  };\r\n\r\n  const handleDeleteChecked = () => {\r\n    setBooksInfo(booksInfo.filter((bookInfo) => !bookInfo.checked));\r\n    dispatch(\r\n      cartActions.removeCartItems({\r\n        ids: booksInfo\r\n          .filter((bookInfo) => bookInfo.checked)\r\n          .map((bookInfo) => bookInfo.book.id),\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleCheckout = () => {\r\n    if (checkedQuantity === 0) setNoItemModal(true);\r\n    else\r\n      navigate(\"/checkout\", {\r\n        state: {\r\n          items: booksInfo.filter((bookInfo) => bookInfo.checked),\r\n          totalQuantity: checkedQuantity,\r\n          totalPrice: totalPrice.toFixed(2),\r\n        },\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div id={style.container}>\r\n      {booksInfo.length !== 0 ? (\r\n        <div id={style.content}>\r\n          <div id={style.left}>\r\n            <div className={`${style.row} ${style.box} px-0 fw-semibold`}>\r\n              <div>\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  checked={checkedAll}\r\n                  onChange={handleCheckAll}\r\n                />\r\n              </div>\r\n              <div>Product ({totalQuantity})</div>\r\n              <div>Price each</div>\r\n              <div>Quantity</div>\r\n              <div>Total price</div>\r\n              <div>\r\n                <HiOutlineTrash\r\n                  className={`${style.trashIcon}`}\r\n                  onClick={handleDeleteChecked}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={`mt-2`}>\r\n              {booksInfo.map((bookInfo) => (\r\n                <CartItem\r\n                  key={bookInfo.book.id}\r\n                  book={bookInfo.book}\r\n                  quantity={bookInfo.quantity}\r\n                  checked={bookInfo.checked}\r\n                  booksInfo={booksInfo}\r\n                  setBooksInfo={setBooksInfo}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div id={style.right}>\r\n            <div className={`${style.sticky}`}>\r\n              <div className={`${style.box}`}>\r\n                <div className=\"d-flex justify-content-between flex-row\">\r\n                  <p>Total</p>\r\n                  <h5>{totalPrice.toFixed(2)}$</h5>\r\n                </div>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={`${style.checkoutBtn}`}\r\n                  onClick={handleCheckout}\r\n                >\r\n                  Check out ({checkedQuantity})\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div id={style.content} className=\"flex-column align-items-center\">\r\n          <div\r\n            className=\"d-flex flex-column align-items-center bg-white pb-4 rounded\"\r\n            style={{ width: \"100%\" }}\r\n          >\r\n            <img\r\n              src=\"/images/empty_cart.jpg\"\r\n              alt=\"empty\"\r\n              style={{ width: \"40%\" }}\r\n            />\r\n            <span className=\"mb-4 text-muted\">Your shopping cart is empty</span>\r\n            <Button variant=\"contained\" onClick={() => navigate(\"/\")}>\r\n              Go shopping now\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <AppModal\r\n        title=\" \"\r\n        showModal={noItemModal}\r\n        setShowModal={setNoItemModal}\r\n        closeBtn={false}\r\n      >\r\n        <h5>You have not selected any items for checkout</h5>\r\n        <div className=\"float-end mt-4\">\r\n          <Button variant=\"contained\" onClick={() => setNoItemModal(false)}>\r\n            OK\r\n          </Button>\r\n        </div>\r\n      </AppModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["book","quantity","checked","booksInfo","setBooksInfo","dispatch","useAppDispatch","useState","removeModal","setRemoveModal","handleAmount","id","newAmount","map","bookInfo","cartActions","className","style","type","name","onChange","to","split","join","toLowerCase","src","image","alt","formatStr","author","category","charAt","toUpperCase","slice","sellingPrice","display","onClick","decreaseAmount","value","event","target","valueAsNumber","availableQuantity","toast","increaseAmount","toFixed","AppModal","showModal","setShowModal","title","Button","variant","color","ids","filter","navigate","useNavigate","useAppSelector","state","cart","items","totalQuantity","totalPrice","setTotalPrice","checkedAll","setCheckedAll","checkedQuantity","setCheckedQuantity","noItemModal","setNoItemModal","useEffect","getBook","axios","item","toString","response","books","data","newBooksInfo","find","console","log","isAxiosError","message","check","checkedAmount","i","length","reduce","total","width","closeBtn"],"sourceRoot":""}